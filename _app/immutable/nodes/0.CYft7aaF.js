import{d as f,s as i,i as y}from"../chunks/BiknwHPp.js";import{c as v,s as b,a as S}from"../chunks/iQgvPtfK.js";import{F as h,w,al as _,T as k,z,aw as E,V as l,W as c}from"../chunks/DGTWKBkE.js";import{t as m,b as p}from"../chunks/D4Wg7acP.js";import{i as P}from"../chunks/BCt6nKvl.js";import{c as I}from"../chunks/Cjkrtwq3.js";import{s as $,a as A}from"../chunks/CDswycLH.js";const j=!0,K=j,M=async()=>{var s,a;try{await f.initialize(),console.log("IndexedDB initialized"),await i.init(),console.log("Settings store initialized");const e=h(i);if(console.log("Current settings state:",e),!((s=e.apiKeys)!=null&&s.google)&&K&&window.localStorage)try{const t=localStorage.getItem("gervais-api-backup");if(t){const o=JSON.parse(t);(a=o==null?void 0:o.apiKeys)!=null&&a.google&&(console.log("Found Google API key in localStorage backup, restoring it"),await i.updateApiKeys({google:o.apiKeys.google}),console.log("Restored Google API key from backup"))}}catch(t){console.error("Error checking for API key backup:",t)}await v.init(),console.log("Chat store initialized")}catch(e){console.error("Error initializing application:",e),e.toString().includes("IndexedDB is not supported")||alert("Failed to initialize database. Some features may not work properly.")}return{}},O=!1,x=!1,W=Object.freeze(Object.defineProperty({__proto__:null,load:M,prerender:x,ssr:O},Symbol.toStringTag,{value:"Module"}));var B=m('<meta name="description" content="A versatile LLM chat interface">'),F=m('<div class="app svelte-1vug3jb"><main class="svelte-1vug3jb"><!></main></div>');function N(s,a){w(a,!1);const[e,t]=$(),o=()=>A(i,"$settingsStore",e);_(async()=>{await y(),document.documentElement.style.setProperty("--sat","env(safe-area-inset-top)"),document.documentElement.style.setProperty("--sab","env(safe-area-inset-bottom)"),document.documentElement.style.setProperty("--sal","env(safe-area-inset-left)"),document.documentElement.style.setProperty("--sar","env(safe-area-inset-right)")}),P();var r=F();I(g=>{var u=B();E.title="Gervais",p(g,u)});var n=l(r),d=l(n);b(d,a,"default",{}),c(n),c(r),k(()=>S(r,"data-theme",o().theme)),p(s,r),z(),t()}export{N as component,W as universal};
